{% extends 'accounts/main.html' %}

{% block content %}

<br>

<div class="card-deck">
    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 text-white">

    </div>

    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 card text-white bg-info">
    <div class="card-header text-center text-uppercase font-weight-bold">Total Members</div>
      <div class="card-body text-center">
            <h3 class="card-title">{{total_member}}</h3>

      </div>
    </div>

    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 text-white ">

    </div>
</div>

<br>



<div class="row">
    <div class="col">
        <div class="shadow p-3 mb-5 bg-white rounded">
            <table id="members" class="table table-striped table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th>Profile</th>
                        <th>Name</th>
                        <th>Joining Date</th>
                        <th>Phone</th>
                        <th>Completed Amounts</th>
                        <th>Pending Amounts</th>
                        <th>No. of Pending</th>
                    </tr>
                </thead>
                <tbody>

                {% for p in profile_list %}

                    <tr>
                        <td><a class="btn btn-sm btn-info" href="{% url 'profile' p.profile_id %}">View</a></td>
                        <td>{{p.name}}</td>
                        <td>{{p.joining_date}}</td>
                        <td>{{p.phone}}</td>
                        <td>{{p.total_complete}}</td>
                        <td>{{p.total_pending}}</td>
                        <!--                    <td>{{total_pending_count}}</td>-->

                        {% if p.total_pending_count == 0 %}
                        <td class="table-success" style="text-align:center; font-weight:bold">{{p.total_pending_count}}</td>

                        {% elif p.total_pending_count >= 1 %}

                        <td class="table-danger" style="text-align:center; font-weight:bold">{{p.total_pending_count}}</td>

                        {% endif %}

                    </tr>

                {% endfor %}

                </tbody>

                <tfoot class="thead-dark">
                    <tr>
                        <th>Profile</th>
                        <th>Name</th>
                        <th>Joining Date</th>
                        <th>Phone</th>
                        <th>Completed Amounts</th>
                        <th>Pending Amounts</th>
                        <th>No. of Pending</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>

<script>

    $('#members').DataTable();

</script>

{% endblock content %}
